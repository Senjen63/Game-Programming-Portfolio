#include "Unit.h"

Sprite* Unit::draw()
{
	if (mCurrentAnimation == 1)
	{
		return mAnimation1->getCurrentSprite();
	}
	else
	{
		return mAnimation2->getCurrentSprite();
	}
}

void Unit::setAnimation()
{
	if (mCurrentAnimation == 1)
	{
		mCurrentAnimation = 2;
	}
	else
	{
		mCurrentAnimation = 1;
	}
}

void Unit::setTimeMod(float timeMod)
{
	mAnimation1->setTimePerFrame(timeMod);
	mAnimation2->setTimePerFrame(timeMod);
}

Unit::Unit()
{
	mLocation = Vector2D();
	mCurrentAnimation = 1;
	mAnimation1 = nullptr;
	mAnimation2 = nullptr;
}

Unit::Unit(Animation* anim1, Animation* anim2, Vector2D location)
{
	mLocation = location;
	mCurrentAnimation = 1;
	mAnimation1 = anim1;
	mAnimation2 = anim2;
}

Unit::~Unit()
{
	mAnimation1 = nullptr;
	mAnimation2 = nullptr;

	delete mAnimation1;
	delete mAnimation2;
}

void Unit::Update(double dt)
{
	mAnimation1->Update(dt);
	mAnimation2->Update(dt);
}