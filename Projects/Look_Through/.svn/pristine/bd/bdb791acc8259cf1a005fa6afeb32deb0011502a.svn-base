#pragma once

#include "Animation.h"
//#include "InputSystem.h"

//Unit Class

class Unit
{
	friend class InputSystem;
public:
	//Constructor/Destructor
	Unit();
	Unit(int x, int y, Animation* animation);
	~Unit();

	//Accessor / Mutator
	Vector2D getPosition();
	int getXPos() { return unitXPos; };
	int getYPos() { return unitYPos; };
	bool getWallStatus() { return isWall; };
	bool getFoodStatus() { return isFood; };
	bool getPwrStatus() { return isPwr; };
	bool getSnkStatus() { return isSnake; };
	void setAnimation(Animation* newAnimation); //change to new animation
	void setPosition(int x, int y) { unitXPos = x; unitYPos = y; }
	void setPosition(Vector2D pos) { unitXPos = pos.getX(); unitYPos = pos.getY(); }
	void toggleWall(bool toggle);
	void toggleFood(bool toggle);
	void togglePwr(bool toggle);
	void toggleSnk(bool toggle);
	void toggleUp(bool toggle);
	void toggleDown(bool toggle);
	void toggleLeft(bool toggle);
	void toggleRight(bool toggle);
	void move(Vector2D newPos);
	int getMove();

	//Member functions
	void update(); //adjust state of animation through Animation's update function + other
	void draw(); // draw current sprite in unit location

private:
	Animation* currentAnimation;
	int unitXPos;
	int unitYPos;
	bool isWall = false;
	bool isFood = false;
	bool isPwr = false;
	bool isSnake = false;
	bool moveLeft;
	bool moveRight;
	bool moveUp;
	bool moveDown = true;
};