#include "Enemy.h"
#include "EnemyDeathEvent.h"

Enemy::Enemy(std::pair<float, float>location, std::pair<float, float>scale, int health, int damage, int moveSpeed, std::string animationDataFilePath) : Unit(location, scale, animationDataFilePath)
{
	mHealth = health;
	mMaxHealth = mHealth;
	mDamage = damage;
	mMoveSpeed = moveSpeed;
}

Enemy::~Enemy()
{

}

void Enemy::update(float deltaTime)
{

}

void Enemy::updateHealth(int healthChange)
{
	mHealth += healthChange;

	if (mHealth > mMaxHealth)
	{
		mHealth = mMaxHealth;
	}

	else if (mHealth <= 0)
	{
		mHealth = 0;
		EventSystem::getInstance()->fireEvent(EnemyDeathEvent(100));
		deleteSelf();
	}
}