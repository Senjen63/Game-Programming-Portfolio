#pragma once

#include <EventListener.h>
#include <EventSystem.h>
#include "GraphicsSystem.h"
#include "GraphicsBuffer.h"
#include "Font.h"
#include "HUDEvent.h"
#include "ScoreEvent.h"
#include "TimeEvent.h"
#include "Panel.h"

const int DEFAULT_PANEL_WIDTH = 100;
const int DEFAULT_PANEL_HEIGHT = 75;

class HUD : public EventListener
{
    public:
        HUD();
        HUD(int, int, GraphicsSystem*, Font*);
        ~HUD();

        void init();
        void cleanup();

        virtual void handleEvent(const Event& currentEvent);
        void displayHud();
private:
    EventSystem* mpEventSystem = nullptr;

    GraphicsSystem* mpGraphics = nullptr;

    float mElapsedTime;
    int mScore;

    Font* mpFont = nullptr;

    GraphicsBuffer* mpTimePanel = nullptr;
    GraphicsBuffer* mpScorePanel = nullptr;
    int mPanelWidth;
    int mPanelHeight;
};