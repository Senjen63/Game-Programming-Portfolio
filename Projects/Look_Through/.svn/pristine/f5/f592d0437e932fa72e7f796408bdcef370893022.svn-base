#include "InputSystem.h"

InputSystem::InputSystem()
{
	mKeyState;
}

InputSystem::~InputSystem()
{
	cleanUp();
}

bool InputSystem::init()
{

	if (!al_init())
	{
		cout << "error initting Allegro\n";
		system("pause");
		return false;
	}
	if (!al_install_keyboard())
	{
		cout << "error - Keyboard not installed\n";
		system("pause");
		return false;
	}
	if (!al_install_mouse())
	{
		cout << "error -  Mouse not installed\n";
		system("pause");
		return false;
	}
	return true;
}

void InputSystem::cleanUp() 
{
	al_uninstall_keyboard();
	al_uninstall_mouse();
}

bool InputSystem::getKeyState(int key)
{
	al_get_keyboard_state(&mKeyState);
	return al_key_down(&mKeyState, key);
}

bool InputSystem::getMouseState(int button)
{
	al_get_mouse_state(&mMouseState);
	if (mMouseState.buttons == button) 
	{
		return true;
	}
	return false;
}

Vector2D InputSystem::mousePos()
{
	al_get_mouse_state(&mMouseState);
	Vector2D mousePos = Vector2D(mMouseState.x, mMouseState.y);
	return mousePos;
}