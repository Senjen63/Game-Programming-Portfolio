#pragma once
#include <vector>
#include "Sprite.h"

class Animation
{
	friend class AnimationManager;

public:
	Animation(float timePerSprite, bool shouldLoop, bool uniqueSpriteOrder);
	~Animation();

	void addSprite(Sprite newSprite);
	void updateSpriteOrder(std::vector<int> spriteOrder);
	void update(float deltaTime);

	Sprite getCurrentSprite() { return mSpriteList[mSpriteOrder[mCurrentSprite]]; }

	void changeAnimationSpeed(float newTimePerSprite);

private:
	std::vector<Sprite> mSpriteList;
	std::vector<int> mSpriteOrder;
	int mCurrentSprite = 0;

	float mTimePerSprite = 0;
	float mTimeRemaining = 0;

	bool mShouldLoop = false;
	bool mUniqueSpriteOrder = false;
};