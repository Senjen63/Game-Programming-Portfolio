#pragma once
#include "Component.h"
#include "GameEvents.h"
#include <EventListener.h>
#include <EventSystem.h>

#include "MathHelp.h"
#include "PlayerInfo.h" // Has PlayerNumber enum 

class PlayerMovement : public Component
{
public:
	PlayerMovement(PlayerNumber playerNum, float maxSpeed, float maxTurnSpeed);

	virtual void init();
	virtual void cleanUp();
	virtual void Update(double deltaTime);

	void handleEvent(const Event& theEvent);

	void turn(float angleDiff);
	void move(float speed);

private:
	float mMaxSpeed;
	float mMaxTurnSpeed;

	float mCurrSpeed = 0;
	float mCurrTurnSpeed = 0;

	PlayerNumber mPlayerNum;
};

const std::string PLAYER_MOVEMENT_NAME = "PlayerMovement";