#pragma once

#include "Unit.h"
#include "InputSystem.h"
#include <Trackable.h>
#include <algorithm>
#include <PerformanceTracker.h>

const string ASSET_PATH = "..\\..\\common\\assets\\";
const string BACKGROUND_FILENAME = "Woods.png";
const string SMURFS_FILENAME = "smurf_sprites.png";
const string DEAN_SMURFS_FILENAME = "dean_sprites.png";
const string LOOP_NAME = "gameLoop";
const int MIN_FPS = 10;
const int MAX_FPS = 160;
const int SPEED = 20;
const int SMURF_SPACING = 4;
const float TIME_SCALE = 1000.0;

const enum Buttons
{
	LMB = 1,
	F = 6,
	S = 19,
	ESC = 59,
	ENTER = 67
};

class Game : public Trackable
{
public:
	Game();
	Game(Vector2D lengthXY);
	~Game();
	void loop();
	void cleaner();
	void init();
private:
	int mFps = 60;
	bool mIsClean = false;
	bool mIsInit = false;
	bool mEscapeKeyDown = false;
	float mFrameTime = 1000.0 / mFps;
	Vector2D mlengthXY;
	InputSystem mInputSystem;
	GraphicsSystem* mpGraphicsSystem;
};

extern Game* gpGame;