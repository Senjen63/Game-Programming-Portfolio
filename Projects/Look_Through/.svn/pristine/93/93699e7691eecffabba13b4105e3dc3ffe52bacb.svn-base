#pragma once

#include <allegro5/allegro.h>
#include <allegro5/allegro_font.h>
#include <allegro5/allegro_ttf.h>
#include <allegro5/allegro_audio.h>
#include <allegro5/allegro_acodec.h>
#include <allegro5/allegro_image.h>
#include <allegro5/allegro_primitives.h>

#include <Trackable.h>
#include <Vector2D.h>

#include <iostream>
#include <cassert>
#include <string>

#include "Sprite.h"
#include "AnimationManager.h"

using namespace std;

class Animation : public Trackable
{
public:
	Animation(Animation* anim);
	Animation(AnimationManager* temp, GraphicsBuffer* buffer);
	~Animation();

	void Update(double dt);
	Sprite* getCurrentSprite();
	void addSprites(GraphicsBuffer* buffer, int width, int height, int size);
	void cleanUp();

	AnimationManager* getAnimationManager();

private:
	AnimationManager* mTemplate;

	Sprite* mSpriteList;
	double mTimeLeft;
	int mCurrentSprite;
};