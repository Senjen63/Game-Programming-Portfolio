#pragma once

#include <iostream>
#include "Sprite.h"
#include "Font.h"
#include <Trackable.h>

class GraphicsSystem : public Trackable
{
    public:
        GraphicsSystem();
        GraphicsSystem(int, int);
        ~GraphicsSystem();

        bool init();
        void cleanup();

        int getWidth();
        int getHeight();
        GraphicsBuffer* getBackBuffer();

        void flip();

        void draw( int, int, Sprite, float xScale = 1.0f, float yScale = 1.0f );
        void draw(GraphicsBuffer*, int, int, float xScale = 1.0f, float yScale = 1.0f);
        void draw( GraphicsBuffer*, int, int, Sprite, float xScale = 1.0f, float yScale = 1.0f );

        void writeText( int, int, Font*, Color, string);
        void writeText( GraphicsBuffer*, int, int, Font*, Color, string);

        bool saveBuffer( GraphicsBuffer*, string);
private:
    ALLEGRO_DISPLAY* mpDisplay;
    GraphicsBuffer* mpBackBuffer;
    Vector2D mBufferSize;
};