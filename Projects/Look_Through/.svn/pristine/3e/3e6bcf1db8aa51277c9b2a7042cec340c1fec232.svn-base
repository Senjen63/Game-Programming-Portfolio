#include "HUD.h"
#include "GraphicsSystem.h"
#include "Game.h"

HUD::HUD()
{
	mpFont = nullptr;
	mFPS = 0;
	mTime = 0;
}

HUD::~HUD()
{
	cleanup();
}

void HUD::init(Font* font)
{
	GraphicsBuffer* mBlackBackground = new GraphicsBuffer(Color(0, 0, 0), BUFFER_WIDTH, BUFFER_HEIGHT);
	mpFont = font;
	mBufferManager.addBuffer(BLACK_KEY, mBlackBackground);
}

void HUD::cleanup()
{
	mBufferManager.clear();
}

void HUD::drawHUD(GraphicsSystem* display)
{
	Color white = Color(255, 255, 255);
	//FPS
	display->draw(mBufferManager.getBuffer(BLACK_KEY), 0, 0, 1);

	display->writeText(90, 8, mpFont, white, "FPS: " + to_string(Game::getGame()->getFPS()));
	display->writeText(375, 8, mpFont, white, "Points: " + to_string(Game::getGame()->getPoints()));
	display->writeText(690, 8, mpFont, white, "Time: " + to_string(Game::getGame()->getTime()));
}
