#include "Unit.h"
#include "Game.h"

Unit::Unit(float posX, float posY, float scaleX, float scaleY)
{
	mLocation = Vector2D(posX, posY);
	mScale = Vector2D(scaleX, scaleY);
}

Unit::~Unit()
{
	delete mpAnimations;
	mpAnimations = nullptr;
}

void Unit::draw()
{
	Game* game = Game::getGameInstance();
	GraphicsSystem* graphics = game->getGraphicsSystem();
	graphics->draw(graphics->getBackBuff(), mpAnimations->getCurrentSprite(), mLocation.getX(), mLocation.getY(), mScale.getX(), mScale.getY());
}

void Unit::setAnimation(Animation* animation)
{
	if (mpAnimations != nullptr)
	{
		delete mpAnimations;
		mpAnimations = nullptr;
	}
	mpAnimations = animation;
}

void Unit::update(double dt)
{
	mpAnimations->Update(dt);
	//newPos = oldPos + velocity * 30.000f;
}