#include "InputSystem.h"

InputSystem::InputSystem()
{

}


InputSystem::~InputSystem()
{
    cleanup();
}


void InputSystem::init()
{
    if (!mInitialized)
    {
        al_install_keyboard();
        al_install_mouse();
        mInitialized = true;
    }
}


void InputSystem::cleanup()
{
    if (!mCleaned)
    {
        mCleaned = true;
    }
}


bool InputSystem::getKeyState(int keyNum)
{
    ALLEGRO_KEYBOARD_STATE keyState;
    al_get_keyboard_state(&keyState);
    
    if ( al_key_down(&keyState, keyNum) )
    {
        return true;
    }

    return false;
}


Vector2D InputSystem::getMouseState(int mouseNum)
{
    ALLEGRO_MOUSE_STATE mouseState;
    al_get_mouse_state(&mouseState);

    if (mouseState.buttons & mouseNum)
    {
        return Vector2D(mouseState.x, mouseState.y);
    }

    return Vector2D(-1, -1);
}