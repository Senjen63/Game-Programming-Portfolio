#include "HudManager.h"

void HudManager::drawEnd(GraphicsSystem* system)
{
	GraphicsBuffer* pHudBuffer = new GraphicsBuffer(800, 600);

	system->writeText(pHudBuffer, 200, 250, pFont, Color(0, 0, 255), "Press Space to Play Again");
	system->writeText(pHudBuffer, 200, 300, pFont, Color(0, 0, 255), "Press Escape to Exit Game");
	system->drawCurrent(Vector2D(0, 0), Sprite(pHudBuffer), 1.0);

	delete pHudBuffer;
}

void HudManager::drawFPS(GraphicsSystem* system, double time)
{
	int actualTime = time;

	string s = to_string(actualTime);

	string screenScore = "FPS: " + s;

	GraphicsBuffer* pHudBuffer = new GraphicsBuffer(800, 600);

	system->writeText(pHudBuffer, 650, 0, pFont, Color(0, 255, 255), screenScore);
	system->drawCurrent(Vector2D(0, 0), Sprite(pHudBuffer), 1.0);

	delete pHudBuffer;
}

void HudManager::drawScore(GraphicsSystem* system, int score)
{
	string s = to_string(score);

	string screenScore = "Score: " + s;

	GraphicsBuffer* pHudBuffer = new GraphicsBuffer(800, 600);

	system->writeText(pHudBuffer, 0, 0, pFont, Color(0, 255, 255), screenScore);
	system->drawCurrent(Vector2D(0,0), Sprite(pHudBuffer), 1.0);

	delete pHudBuffer;
}

void HudManager::drawStart(GraphicsSystem* system)
{
	GraphicsBuffer* pHudBuffer = new GraphicsBuffer(800, 600);

	system->writeText(pHudBuffer, 225, 250, pFont, Color(0, 0, 255), "Press Space to Start");
	system->drawCurrent(Vector2D(0, 0), Sprite(pHudBuffer), 1.0);

	delete pHudBuffer;
}

void HudManager::drawTimer(GraphicsSystem* system, double time)
{
	int actualTime = time / 1000.0;

	string s = to_string(actualTime);

	string screenScore = "Time: " + s + " Seconds";

	GraphicsBuffer* pHudBuffer = new GraphicsBuffer(800, 600);

	system->writeText(pHudBuffer, 250, 0, pFont, Color(0, 255, 255), screenScore);
	system->drawCurrent(Vector2D(0, 0), Sprite(pHudBuffer), 1.0);

	delete pHudBuffer;
}

HudManager::HudManager()
{
	fontFileName = "cour.ttf";
	fontSize = 34;

	pFont = new Font("..\\..\\common\\assets\\" + fontFileName, fontSize);
}

HudManager::~HudManager()
{
	delete pFont;
	pFont = nullptr;
}