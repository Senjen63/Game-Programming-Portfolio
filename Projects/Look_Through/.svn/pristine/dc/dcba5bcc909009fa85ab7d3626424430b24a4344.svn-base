#include "GraphicsBuffer.h"

GraphicsBuffer::GraphicsBuffer(int newWidth, int newHeight, Color newColor)
{
	this->mpBitmap = al_create_bitmap(newWidth, newHeight);
	al_set_target_bitmap(this->mpBitmap);
	al_clear_to_color(newColor.getColor());
	this->mDoesOwnBitmap = true;
}

GraphicsBuffer::GraphicsBuffer(const std::string filename)
{
	this->mpBitmap = al_load_bitmap((ASSET_PATH + filename).c_str());
	al_set_target_bitmap(this->mpBitmap);
	this->mDoesOwnBitmap = true;
}

GraphicsBuffer::GraphicsBuffer(ALLEGRO_BITMAP* pBitmap)
{
	this->mpBitmap = pBitmap;
	al_set_target_bitmap(this->mpBitmap);
	this->mDoesOwnBitmap = true;
}

GraphicsBuffer::~GraphicsBuffer()
{
	if (mDoesOwnBitmap) { al_destroy_bitmap(this->mpBitmap); };
}