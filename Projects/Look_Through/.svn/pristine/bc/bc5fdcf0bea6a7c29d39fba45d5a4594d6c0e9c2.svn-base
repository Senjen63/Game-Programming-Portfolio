#pragma once
#include <allegro5/allegro.h>
#include <string>
#include "Color.h"
#include <PerformanceTracker.h>
#include <MemoryTracker.h>

using namespace std;

class GraphicsBuffer : public Trackable
{
	friend class GraphicsSystem;
public:
	GraphicsBuffer( string fileName );
	GraphicsBuffer( Color col, int width, int height );
	~GraphicsBuffer();

	int getHeight() { return al_get_bitmap_height( mpBitmap ); };
	int getWidth() { return al_get_bitmap_width( mpBitmap ); };
	ALLEGRO_BITMAP* getBitmap() { return mpBitmap; };

	GraphicsBuffer( GraphicsBuffer& ) = delete; //deletes any copies (passed by value)
private:
	ALLEGRO_BITMAP* mpBitmap = nullptr;
	bool mOwnBitmap;
};