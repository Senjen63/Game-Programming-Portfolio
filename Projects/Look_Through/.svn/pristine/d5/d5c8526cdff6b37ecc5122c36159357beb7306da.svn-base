#include "Animation.h"

Animation::Animation(float timePerSprite, bool shouldLoop)
{
	mTimePerSprite = timePerSprite;
	mTimeRemaining = timePerSprite;
	mShouldLoop = shouldLoop;
}

Animation::~Animation()
{

}

void Animation::addSprite(Sprite newSprite)
{
	mSpriteList.push_back(newSprite);
}

// Updates animation when the time remaining for that frame of animation has reached 0 or less
void Animation::update(float deltaTime)
{
	mTimeRemaining -= deltaTime;

	if (mTimeRemaining <= 0)
	{
		mTimeRemaining = mTimePerSprite;
		mCurrentSprite += 1;

		if (mCurrentSprite >= mSpriteList.size() && mShouldLoop)
		{
			mCurrentSprite = 0;
		}

		else if (mCurrentSprite >= mSpriteList.size() && !mShouldLoop)
		{
			mCurrentSprite = mSpriteList.size() - 1;
		}
	}
}

void Animation::changeSpeed(float newTimePerSprite)
{
	mTimePerSprite = newTimePerSprite;
}