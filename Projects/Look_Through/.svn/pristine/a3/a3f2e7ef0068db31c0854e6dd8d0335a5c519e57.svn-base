#pragma once

#include <vector>

#include <Trackable.h>

#include "Sprite.h"

class GraphicsBuffer;

using namespace std;

class Animation : public Trackable
{
public:

	Animation(GraphicsBuffer* sprites, int sheetWidth, int sheetHeight, int spriteWidth, int spriteHeight, int startingRow = 0, float frameRate = 16, bool doesLoop = true);
	~Animation();

	void update(double dt);

	Sprite* getCurrentSprite();
	void speedUp();
	void slowDown();
	void setPause(bool pause);

private:

	vector<Sprite> mvpAnimSprites;	

	int mNumFrames = 0;
	int mCurrentFrame = 0;

	double mTimePerFrameinMS = 16;
	double mTimeRemaing = mTimePerFrameinMS;
	
	bool mDoesLoop = true;
	bool mIsPaused = false;

	const float SPEED_FACTOR = 8.0f; // should only be positive	
};

