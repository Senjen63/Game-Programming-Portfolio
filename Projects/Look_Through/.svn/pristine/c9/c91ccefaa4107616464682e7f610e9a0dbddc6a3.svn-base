#include "Game.h"
#include "MemoryTracker.h"
#include <EventSystem.h>

using namespace std;

int main()
{
	EventSystem::initInstance();
	EventSystem* pEventSystem = EventSystem::getInstance();
	pEventSystem->init();
	Game* game = Game::createInstance();
	game->initInstance();
	game->doLoop();
	Game::destroyInstance();

	EventSystem::cleanupInstance();

	MemoryTracker::getInstance()->reportAllocations(cout);
	system("pause");
	
	return 0;
}

//#include <iostream>
//#include "SFML/Graphics.hpp"
//#include "Font.h"
//
//
//int main() {
//	sf::RenderWindow renderWindow(sf::VideoMode(640, 480), "Hello Cruel World");
//
//	std::string path = "Fonts\\cour.ttf";
//
//	Font font = Font(path, 28);
//
//	//Create Hello World text objecct using our font and size 128pt
//	//sf::Text text("Hello World", font, 128);
//	sf::Text text = sf::Text("Hi", *((sf::Font*)font), 28);
//
//	sf::RenderTexture* texture = new sf::RenderTexture();
//	texture->create(100, 100);
//
//	texture->draw(text);
//
//	//Set the text color to red 
//	text.setFillColor(sf::Color::Red);
//
//	//Get the text object's physical dimensions and use them to center the text to our render window
//		//By default things are drawn relative to their top left corner and can be changed by calling setOrigin()
//		sf::FloatRect bounds(text.getLocalBounds());
//	text.setPosition(renderWindow.getSize().x / 2 - (bounds.left + bounds.width / 2),
//		renderWindow.getSize().y / 2 - (bounds.top + bounds.height / 2));
//
//	while (renderWindow.isOpen()) {
//		sf::Event event;
//
//		while (renderWindow.pollEvent(event)) {
//			if (event.type == sf::Event::EventType::Closed)
//			{
//				renderWindow.close();
//			}
//		}
//		renderWindow.clear(sf::Color::White);
//		//Draw our text object to the window
//		renderWindow.draw(text);
//		renderWindow.display();
//	}
//}