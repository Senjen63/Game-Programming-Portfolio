#pragma once

#include <allegro5/allegro.h>
#include <allegro5/allegro_font.h>
#include <allegro5/allegro_ttf.h>
#include <allegro5/allegro_audio.h>
#include <allegro5/allegro_acodec.h>
#include <allegro5/allegro_image.h>
#include <allegro5/allegro_primitives.h>

#include <Trackable.h>

#include "Sprite.h"
#include "Font.h"

class GraphicsSystem : public Trackable
{
	public: 
			GraphicsSystem();
			~GraphicsSystem();

			void init(int width, int height);
			void cleanup();

			int getHeight() { return mHeight; }
			int getWidth() { return mWidth; }
			GraphicsBuffer* getBackBuffer () { return mpBackbuffer; }

			void flip();

			void draw(int locX, int locY, Sprite sprite, int scale);
			void draw(GraphicsBuffer* buffer, float locX, float locY, float scale);
			void draw(GraphicsBuffer* buffer, float locX, float locY, float scaleX, float scaleY);
			void draw(GraphicsBuffer* buffer, int locX, int locY, Sprite sprite, int scale);

			//USE THIS FOR WRITING TO SCREEN
			void writeText(int locX, int locY, Font* font, Color color, const char* text);
			void writeText(GraphicsBuffer* buffer, int locX, int locY, Font* font, Color color, const char* text);
			void saveBuffer(GraphicsBuffer* buffer, const char* filename);

	private:
		int mHeight;
		int mWidth;
		ALLEGRO_DISPLAY* mpDisplay;
		GraphicsBuffer* mpBackbuffer;

};