#pragma once
#include <Vector2D.h>
#include <PerformanceTracker.h>
#include <MemoryTracker.h>
#include <allegro5/allegro_acodec.h>
#include "InputEvent.h"
#include <EventSystem.h>
#include "EventListener.h"
class InputSystem : public Trackable
{
private:
	bool GetKey(int keyCode);
	bool GetMouseDown(int mouseCode);
	bool mEnterFlag = false;
	bool mSFlag = false;
	bool mFFlag = false;
	bool mSpaceFlag = false;
	ALLEGRO_MOUSE_STATE mMouseState;
	ALLEGRO_KEYBOARD_STATE mKeyState;
	EventSystem* mpEventSystem;
	ALLEGRO_EVENT_QUEUE* mpEventQueue;

public:
	InputSystem();
	~InputSystem();	
	void Init();
	void CleanUp();
	Vector2D GetMousePosition();
	void InputEventLoop();
	friend class Game;
};