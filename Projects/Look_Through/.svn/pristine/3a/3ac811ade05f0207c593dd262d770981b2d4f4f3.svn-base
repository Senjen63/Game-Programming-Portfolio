#pragma once
#include <allegro5/allegro.h>
#include <allegro5/allegro_font.h>
#include <allegro5/allegro_ttf.h>
#include <allegro5/allegro_audio.h>
#include <allegro5/allegro_acodec.h>
#include <allegro5/allegro_image.h>
#include <allegro5/allegro_primitives.h>

#include <iostream>
#include <string>
#include <vector>

#include <Vector2D.h>
#include <Timer.h>
#include <random>
#include <Trackable.h>

using namespace std;

class Unit;
class GraphicsSystem;
class InputSystem;

class GameSystem{
public:
	GameSystem();
	~GameSystem();
	bool init();
	void Gameplay();
	float mouseX();
	float mouseY();
	GraphicsSystem* getGraphics();

private:
	GraphicsSystem* display;
	InputSystem* input;
	bool playing = false;
	ALLEGRO_MOUSE_STATE* cursor = new ALLEGRO_MOUSE_STATE();
	int animSpeed;
	const int DEFAULT_ANIM_SPEED = 5;
	const int FASTER_ANIM_SPEED = 2;
	const int SLOWER_ANIM_SPEED = 10;
	vector<Unit*> unitList;
	const int DISP_WIDTH = 800;
	const int DISP_HEIGHT = 600;
	bool working;
};

extern GameSystem* game;
