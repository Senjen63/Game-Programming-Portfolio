#include "GraphicsBuffer.h"

GraphicsBuffer::GraphicsBuffer(string assetPath, string filename)
{
	mpBitmap = al_load_bitmap((assetPath + filename).c_str());
	mWidth = 0;
	mHeight = 0;
}

GraphicsBuffer::GraphicsBuffer(int width, int height)
{
	mpBitmap = al_create_bitmap(width, height);
	mWidth = width;
	mHeight = height;
}

GraphicsBuffer::GraphicsBuffer(Color color, int width, int height)
{
	ALLEGRO_BITMAP* oldBitmap = al_get_target_bitmap();
	mpBitmap = al_create_bitmap(width, height);
	al_set_target_bitmap(mpBitmap);
	al_clear_to_color(color.getColor());
	al_set_target_bitmap(oldBitmap);
	mWidth = width;
	mHeight = height;
}

GraphicsBuffer::~GraphicsBuffer()
{
	al_destroy_bitmap(mpBitmap);
}

ALLEGRO_BITMAP* GraphicsBuffer::getBuffer()
{
	return mpBitmap;
}

int GraphicsBuffer::getHeight()
{
	return al_get_bitmap_height(mpBitmap);
}

int GraphicsBuffer::getWidth()
{
	return al_get_bitmap_width(mpBitmap);
}