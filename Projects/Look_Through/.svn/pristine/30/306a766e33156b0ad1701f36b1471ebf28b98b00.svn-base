#pragma once

#include <PerformanceTracker.h>
#include <unordered_map>

using namespace std;

typedef string BufferName;

class GraphicsBuffer;

class GraphicsBufferManager : public Trackable
{
private:
	unordered_map<BufferName, GraphicsBuffer*> mMap;

public:
	GraphicsBufferManager();
	~GraphicsBufferManager();

	void cleanup();

	GraphicsBuffer* createAndManageBuffer(const BufferName& key, string fileName);
	void deleteBuffer(const BufferName& key);
	void deleteBuffer(GraphicsBuffer* pWidget);

	GraphicsBuffer* getBuffer(const BufferName& key);

	friend class Game;
	friend class Unit;
};