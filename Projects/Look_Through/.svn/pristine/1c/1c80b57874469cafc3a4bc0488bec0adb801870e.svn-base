#pragma once
#include "font.h"
#include "color.h"
#include "sprite.h"
#include "graphicsbuffer.h"
#include <string>

using namespace std;

class GraphicsSystem
{
		friend class GraphicsBuffer;
		ALLEGRO_DISPLAY* disp;
		const int WINDOW_WIDTH = 800;
		const int WINDOW_HEIGHT = 600;
	public:
		GraphicsSystem();
		~GraphicsSystem();
		void Init();
		void Cleanup();
		int getHeight();
		int getWidth();
		ALLEGRO_BITMAP* getBackBuffer();
		void setHeight(int hi);
		void setWidth(int wi);
		void Flip();
		void Draw(Vector2D loc, Sprite spri);
		void Draw(Vector2D loc, Sprite spri, float scale);
		void Draw(GraphicsBuffer* gBuff, Vector2D loc, Sprite spri);
		void Draw(GraphicsBuffer* gBuff, Vector2D loc, Sprite spri, float scale);
		void WriteText(Vector2D loc, Font font, Color color, string text);
		void WriteText(GraphicsBuffer* gBuff, Vector2D loc, Font font, Color color, string text);
		void SaveBuffer(GraphicsBuffer* gBuff, string fileName);
};