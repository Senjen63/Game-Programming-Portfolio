#include "AudioSnippet.h"

#include <cassert>
#include "MathHelp.h"

AudioSnippet::AudioSnippet(const std::string& pathToSnippet, unsigned char volume) : 
    mVolume(min(volume, MIX_MAX_VOLUME))
{
    mpChunk = std::shared_ptr<Mix_Chunk>(Mix_LoadWAV(pathToSnippet.c_str()), Mix_Deleter{});

    if (mpChunk == NULL)
    {
        printf("Failed to Load Audio Snippet: %s\n", Mix_GetError());
        assert(false);
    }

    if (volume > MIX_MAX_VOLUME)
        printf("Volume set too high! It should be between 0 and 128. It will be set to 128. ");
}
