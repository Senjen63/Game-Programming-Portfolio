#include "GraphicsBuffer.h"

GraphicsBuffer::GraphicsBuffer()
{
	mpBitMap = NULL;
}
GraphicsBuffer::GraphicsBuffer(string file)
{
	mpBitMap = al_load_bitmap(file.c_str());

	mHasMap = true;
}
GraphicsBuffer::GraphicsBuffer(int width, int height)
{
	mpBitMap = al_create_bitmap(width, height);

	mHasMap = false;
}
GraphicsBuffer::GraphicsBuffer(ALLEGRO_BITMAP* pBitmap)
{
	mpBitMap = pBitmap;

	mHasMap = false;
}
GraphicsBuffer :: ~GraphicsBuffer()
{
	if (mHasMap)
		al_destroy_bitmap(mpBitMap);
}

void GraphicsBuffer::setColor(Color color)
{
	al_set_target_bitmap(mpBitMap);
	ALLEGRO_BITMAP* holder = al_get_target_bitmap();
	al_clear_to_color(color.getColor());

	al_set_target_bitmap(holder);
	
}
