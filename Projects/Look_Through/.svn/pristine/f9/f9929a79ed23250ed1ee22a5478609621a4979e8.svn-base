#include "HUD.h"

HUD::HUD(Font* font)
{
	mpFont = font;
	mpWhite = Color(255, 255, 255, 255);

	mStartingText = "Press space to start";

	mOver = "Game over!";
	mAgain = "Press space to play again";
	mWin = "You won the game!";
}

HUD::~HUD() {}

void HUD::startText(GraphicsSystem* mpGraphics, GraphicsBuffer* buffer)
{
	buffer->setColor(mClearColor);
	mpGraphics->writeText(buffer, 300, 30, mpFont, mpWhite, mStartingText.c_str());
	mpGraphics->draw(buffer, 0, 0, 1);
}

void HUD::gamePlayText(GraphicsSystem* mpGraphics, GraphicsBuffer* buffer, double time, double fps, int levelNum, int score)
{
	buffer->setColor(mClearColor);

	std::string timeString = std::to_string(time);
	mpGraphics->writeText(buffer, 110, 20, mpFont, mpWhite, ("Time: " + timeString).c_str());

	std::string fpsString = std::to_string(fps);
	mpGraphics->writeText(buffer, 110, 40, mpFont, mpWhite, ("FPS: " + fpsString).c_str());

	std::string level = std::to_string(levelNum);
	mpGraphics->writeText(buffer, 320, 30, mpFont, mpWhite, ("Level " + level).c_str());

	std::string scoreString = std::to_string(score);
	mpGraphics->writeText(buffer, 530, 30, mpFont, mpWhite, ("Score: " + scoreString).c_str());

	mpGraphics->draw(buffer, 0, 0, 1);
}

void HUD::endText(GraphicsSystem* mpGraphics, GraphicsBuffer* buffer)
{
	buffer->setColor(mClearColor);

	mpGraphics->writeText(buffer, 320, 20, mpFont, mpWhite, mOver.c_str());
	mpGraphics->writeText(buffer, 320, 40, mpFont, mpWhite, mAgain.c_str());
	mpGraphics->draw(buffer, 0, 0, 1);
}

void HUD::winText(GraphicsSystem* mpGraphics, GraphicsBuffer* buffer)
{
	buffer->setColor(mClearColor);

	mpGraphics->writeText(buffer, 320, 20, mpFont, mpWhite, mWin.c_str());
	mpGraphics->writeText(buffer, 320, 40, mpFont, mpWhite, mAgain.c_str());
	mpGraphics->draw(buffer, 0, 0, 1);
}