#pragma once
#include "SDL.h"
#include <iostream>
#include <Vector2D.h>
#include "Sprite.h"
#include "Color.h"
#include "Font.h"

using namespace std;

class GraphicsSystem : public Trackable
{
private:
	SDL_Window* mpDisplay;
	SDL_Renderer* mpRenderer;
	SDL_Window* GetBackBuffer();
	SDL_Surface* GetBitmap();
public:
	GraphicsSystem();
	GraphicsSystem(int height, int width);
	~GraphicsSystem();

	int Init(int height, int width);
	void CleanUp();

	int GetHeight();
	int GetWidth();


	void Flip();
	void ClearForNextFrame();
	void Draw(GraphicsBuffer* pBuffer);
	void GraphicsSystem::Draw(GraphicsBuffer* pBuffer, Vector2D location);
	void Draw(Vector2D location, Sprite* pSprite);
	void Draw(GraphicsBuffer* pBuffer, Vector2D location, float scale);
	void Draw(GraphicsBuffer* pTarget, GraphicsBuffer* pBuffer, Vector2D location, float scale);
	void Draw(GraphicsBuffer* pGraphicsBuffer, Vector2D location, Sprite* pSprite, float scale);
	void Draw(Vector2D location, Sprite* pSprite, int x, int y);
	void WriteText(GraphicsBuffer* pGraphicsBuffer, Vector2D location, Font* pFont, Color color, string text);
	Vector2D GetCenterText(Font* pfont, string text);
};