#include "AudioManager.h"
#include "Game.h"
#include <fstream>

AudioManager::AudioManager()
{

}

AudioManager::~AudioManager()
{

}

void AudioManager::loadSounds()
{
	std::ifstream audioData;
	audioData.open("Assets/AudioData.txt");

	while (!audioData.eof())
	{
		std::string audioName;
		std::string audioFilePath;
		std::string trash;

		std::getline(audioData, audioName);
		std::getline(audioData, audioFilePath);
		std::getline(audioData, trash);

		Sound* newSound = new Sound(audioFilePath);
		mSoundMap.insert((make_pair(audioName, newSound)));
	}

	audioData.close();
}

void AudioManager::playSound(std::string soundName)
{
	if (Game::getGame()->getSoundAvailability() == true)
	{
		mSoundMap[soundName]->play();
	}
}