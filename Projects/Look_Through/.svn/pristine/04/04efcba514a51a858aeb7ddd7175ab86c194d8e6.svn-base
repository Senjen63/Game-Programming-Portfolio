#pragma once
#include <Trackable.h>
#include <list>

#include "Animation.h"
#include "UnitTypes.h"

const int DEFAULT_X = 0;
const int DEFAULT_Y = 0;
const int DEFAULT_FPS = 60;
const bool DEFAULT_LOOP = true;

class Unit : public Trackable
{
    protected:
        Vector2D mPos;
        vector<Animation> mAnims;
        int mCurrentIndex;
        int mFps;
        bool mPlay = true;
        bool mDelete = false;
        int mType;
        //float mAngle = 0;

    public:
        Unit();
        Unit(Vector2D pos, int fps);
        Unit(Vector2D pos, GraphicsBuffer* newBuffer, int fps , bool loopAnimation, int type);
        ~Unit();

        int getAnimCount(); //number of different animations
        int getCurrentIndex();
        bool getIsPlaying();
        Vector2D getPosition();
        Vector2D getDimensions();
        bool getDelete();
        int getType();
        int getFps();
        //float getAngle();

        void setDelete(bool del);
        void setType(int type);
        //void setAngle(float angle);

        void update(float timeElapsed);
        virtual void updateUnit(float elapsedTime);
        void draw();
        void changePosition(Vector2D newPos);
        void addAnimation(GraphicsBuffer* graphicsBuffer);
        void addAnimation(GraphicsBuffer* graphicsBuffer, int fps, bool loop);
        void setAnimation(int index);
        void setFps(int fps);
        void togglePlay(bool play);
        bool isMouseOver(Vector2D mousePos);
};