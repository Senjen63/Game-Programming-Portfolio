
#include <iostream>
#include <cassert>
#include <string>

#include <PerformanceTracker.h>
#include <MemoryTracker.h>
#include <Vector2D.h>
#include <Timer.h>

#include "Game.h"
#include "InputSystem.h"


//----------------------------------------InputSystem----------------------------------------

InputSystem::InputSystem()
{

}

InputSystem::~InputSystem()
{

}

void InputSystem::init()
{
	al_install_keyboard(); //add keyboard
	al_install_mouse(); //add mouse
}

//pass in desired key, return bool if pressed. -- use enum for keys
bool InputSystem::getKeyState(KeyBindings keyPressed)
{
	ALLEGRO_KEYBOARD_STATE keyState;
	al_get_keyboard_state(&keyState);

	return al_key_down(&keyState, keyPressed);
}

//same as above, but using LMB
bool InputSystem::getMouseState(KeyBindings mouseButton)
{
	ALLEGRO_MOUSE_STATE mouseState;
	al_get_mouse_state(&mouseState);

	return al_mouse_button_down(&mouseState, mouseButton);
}

int InputSystem::getMouseX()
{
	ALLEGRO_MOUSE_STATE mouseState;
	al_get_mouse_state(&mouseState);
	return mouseState.x;
}

int InputSystem::getMouseY()
{
	ALLEGRO_MOUSE_STATE mouseState;
	al_get_mouse_state(&mouseState);
	return mouseState.y;
}

void InputSystem::cleanup()
{
	al_uninstall_keyboard();
	al_uninstall_mouse();
}