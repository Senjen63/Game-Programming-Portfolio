#pragma once
#include <allegro5/allegro_image.h>
#include <allegro5/allegro_primitives.h>
#include "Trackable.h" 
#include "Color.h"
#include <Vector2D.h>
#include <string>
#include <iostream>
#include <fstream>
#include "Sprite.h"
#include "Snake.h"
#include "UnitManager.h"
using namespace std;


class Level : public Trackable
{
public:
	Level();
	Level(string filename, Sprite wall);
	~Level();

	void loadLevel();
	void drawLevel(GraphicsSystem* display);
	void clearLevel();
	
	int getWin();
	int getSpeed();
	int getStartSegments();
	Vector2D getWallPos(int i, int j);
	float getTime();
	float getFPS();
	int getScore();
	int getSpeedUps();
	int getSlowDowns();
	int getBonusPoints();


	void setTime(float Time);
	void setFPS(float FPS);
	void addScore(int toAdd);

	bool isColliding(Vector2D snakePos);
	



private:
	string mFilename;
	int mNumSpaces = 320;
	int mWalls[16][20];
	int mSnakeSpeed;
	int mStartSegments;
	int mWinSize;
	int mPointPerFood;
	int mNumSpeedUps;
	int mNumSlowDowns;
	int mNumBonusPoints;
	int mCurrentScore;
	int mCurrentFPS;
	int mCurrentTime;
	int mCurrentSize;
	Sprite mWallSprite;
	Vector2D mWallPos[16][20];

};
