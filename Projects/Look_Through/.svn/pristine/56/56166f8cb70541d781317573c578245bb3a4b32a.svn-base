#include "Unit.h"

Unit::Unit(std::pair<float, float>location, Animation* currentAnimation)
{
	// Allocate memory for a new animation and overwrite it with the information of the Animation pointer passed in 
	mLocation = location;
	mpCurrentAnimation = new Animation(0, false);
	*mpCurrentAnimation = *currentAnimation;
}

Unit::~Unit()
{
	//delete mpCurrentAnimation;
}

void Unit::update(float deltaTime)
{
	mpCurrentAnimation->update(deltaTime);
}

void Unit::draw(GraphicsSystem* currentGraphicsSystem)
{
	currentGraphicsSystem->draw(mLocation.first, mLocation.second, mpCurrentAnimation->getCurrentSprite(), 1, 1);
}

void Unit::setAnimation(Animation* newAnimation)
{
	*mpCurrentAnimation = *newAnimation;
}