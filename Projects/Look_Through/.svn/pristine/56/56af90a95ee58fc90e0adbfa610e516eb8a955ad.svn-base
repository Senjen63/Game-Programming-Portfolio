#pragma once
#include <iostream>
#include <cassert>
#include <string>

#include <Vector2D.h>
#include <Timer.h>
#include "GraphicsSystem.h"
#include "GraphicsBuffer.h"
#include "InputSystem.h"
#include "Color.h"
#include "Sprite.h"
#include "Font.h"
#include "Animation.h"
#include "Unit.h"
#include "UnitManager.h"
#include "BufferManager.h"

const string ASSET_PATH = "..\\..\\common\\assets\\";
const string SMURF_FILENAME = "smurf_sprites.png";
const string DEAN_FILENAME = "dean_sprites.png";
const string BACKGROUND_FILENAME = "Woods.png";
const int SPRITE_WIDTH = 60;
const int SPRITE_HEIGHT = 60;
const float STARTING_TIMING = 0.005;
const float SLEEP_MS = 16.7f;
const int FRAMES = 16;
const float TIME_INCREMENT = 0.01f;
const int DISP_WIDTH = 800;
const int DISP_HEIGHT = 600;

class Game : public Trackable
{
private:
	static Game* mpsGameInstance;
	GraphicsSystem* mpGraphSystem;
	InputSystem mInputSystem;
	BufferManager mBufferManager;
	UnitManager mUnitManager;

	bool leave = false;


public:
	void Init();
	void CleanUp();
	static Game* GetInstance();
	Game();
	~Game();
	void DoLoop();
	GraphicsBuffer* GetBuffer(string index);
};

