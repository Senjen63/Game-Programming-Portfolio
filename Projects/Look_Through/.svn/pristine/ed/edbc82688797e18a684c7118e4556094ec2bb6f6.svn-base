#pragma once
#include <allegro5/allegro.h>

#include <PerformanceTracker.h>
#include <MemoryTracker.h>
#include <Timer.h>

#include "Animation.h"
#include "GraphicsSystem.h"
#include "InputSystem.h"
#include "Unit.h"

#include <iostream>
using namespace std;

const string ASSET_PATH = "..\\..\\common\\assets\\";
const string BACKGROUND_FILENAME = "Woods.png";
const string SMURF_FILENAME = "smurf_sprites.png";
const string DEAN_FILENAME = "dean_sprites.png";

const int SPRITE_HEIGHT = 60;
const int SPRITE_WIDTH = 60;

const int FRAMES_PER_SECOND = 16;
const float START_TIME = 0.01;

const double SLEEP_TIME = 16.7;

class Game : public Trackable
{
public:
	Game();
	~Game();

	void init();
	void cleanup();

	void doLoop();

private:
	Animation* mpSmurfAnimation;
	Animation* mpDeanAnimation;

	GraphicsBuffer* mpWoods;
	GraphicsBuffer* mpSmurfs;
	GraphicsBuffer* mpDean;

	GraphicsSystem* mpSystem;

	InputSystem mInputSystem;

	Unit* mpObject;
};

extern Game* gpGame;