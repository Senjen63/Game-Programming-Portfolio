#pragma once

#include <map>
#include <string>
#include <vector>
#include <Vector2D.h>

class Unit;

/*
* UnitManager Class:
- Holds list of units in game (vector)
- Data
	- Collection of Units (map)
- Functions
	- constructor/destructor
	- adding/deleting/getting Units
	- Clear() - remove all units
	- UpdateAll() and DrawAll()
*/

//UnitManager should have function to get last in vector for toggling unit/ controls

class UnitManager {
public:
	//constructor/destructor
	UnitManager();
	~UnitManager();

	//accessor/mutators
	Unit* getUnit(int unitPos) { return unitVector.at(unitPos); };
	void addUnit(Unit* newUnit) { unitVector.push_back(newUnit); };
	void deleteUnit(int unitPos);
	void Clear();
	void UpdateAll();
	void DrawAll();
	int getSize() { return unitVector.size(); };
	Unit* getCollidedUnit() { return collidedUnit; };
	int getCollidedUnitPos() { return mCollidedUnit; }
	bool checkCollision(Vector2D pos);
	bool checkSelfCollision(Vector2D pos);

private:
	//int currentUnit;
	Unit* collidedUnit;
	int mCollidedUnit;
	std::vector<Unit*> unitVector;
};