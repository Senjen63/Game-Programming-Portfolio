#pragma once

#include "GraphicsSystem.h"
#include "Unit.h"
#include "InputSystem.h"

const string ASSET_PATH = "..\\..\\common\\assets\\";
const string BACKGROUND_FILENAME = "woods.png";
const string SMURF_FILENAME = "smurf_sprites.png";
const string DEAN_FILENAME = "dean_sprites.png";

const int NUM_FRAMES = 16;
const int SPRITE_HEIGHT = 60;
const int SPRITE_WIDTH = 60;

const float STARTING_TIMER = 0.005;
const float SLEEP_MS = 16.7;

class Game : public Trackable
{
private:
	GraphicsSystem* mpDisplay = nullptr;
	InputSystem mInputSystem;

	GraphicsBuffer* mpWoods = nullptr;
	GraphicsBuffer* mpSmurf = nullptr;
	GraphicsBuffer* mpDean = nullptr;

	Animation* pSmurfAnim = nullptr;
	Animation* pDeanAnim = nullptr;

	Unit* mpUnit = nullptr;
public:
	Game();
	~Game();

	void init(int width, int height);
	void cleanup();

	void doLoop();
};

extern Game* gpGame;