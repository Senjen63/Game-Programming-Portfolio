#pragma once

#include <allegro5/allegro.h>
#include <string>
#include <Trackable.h>
#include <Vector2D.h>

#include "Color.h"


class GraphicsBuffer : public Trackable
{
	friend class GraphicsSystem;
	friend class GraphicsBufferManager;

private:
	ALLEGRO_BITMAP* mpBitmap;
	bool mOwnsBitmap;

	GraphicsBuffer(ALLEGRO_BITMAP* pBitmap);

	ALLEGRO_BITMAP* getBitmap() const { return mpBitmap; }

	GraphicsBuffer(std::string fullPath);
	GraphicsBuffer(Vector2D size); // Creates empty Graphics Buffer of size width x height
	GraphicsBuffer(Vector2D size, Color col); // Creates Graphics Buffer of size width x height with color col
	GraphicsBuffer(const GraphicsBuffer* og);

public:

	~GraphicsBuffer();

	int getWidth() const { return al_get_bitmap_width(mpBitmap); };
	int getHeight() const { return al_get_bitmap_height(mpBitmap); };
};

