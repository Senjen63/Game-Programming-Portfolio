#include "InputSystem.h"

InputSystem::InputSystem()
{
    
}

InputSystem::~InputSystem()
{

}

void InputSystem::init()
{
    if (!al_init())
    {
        throw new std::exception("error initting Allegro\n");
    }
    if (!al_install_keyboard())
    {
        throw new std::exception("error - keyboard not installed\n");
    }
    if (!al_install_mouse())
    {
        throw new std::exception("error - mouse not installed\n");
    }
}

bool InputSystem::isKeyPressed(int key)
{
    ALLEGRO_KEYBOARD_STATE state;
    al_get_keyboard_state(&state);
    return al_key_down(&state, key);
}

bool InputSystem::isMousePressed(int x)
{
    ALLEGRO_MOUSE_STATE mMouseState;
    al_get_mouse_state(&mMouseState);
    return mMouseState.buttons & x;
}

Vector2D InputSystem::getMousePosition()
{
    ALLEGRO_MOUSE_STATE mMouseState;
    al_get_mouse_state(&mMouseState);
    return Vector2D(mMouseState.x, mMouseState.y);
}