#pragma once

#include <Trackable.h>
#include <vector>
#include "GraphicsSystem.h"

class Animation : public Trackable
{
    public:
        Animation(int, bool);
        Animation(GraphicsBuffer*, int, bool);
        ~Animation();

        int getCurrentFrame() const;
        int getFrameTotal() const;
        Sprite getCurrentSprite();

        void addSprite(Sprite);
        void update(float);
        void changeSpeed(int);
        void sync(const Animation&);
private:
    vector<Sprite> mFrames;
    unsigned int mCurrent = 0;
    int mFps;
    float mTimePerSprite = 1000.0 / mFps;
    float mTimeLeft;
    bool mLoop = true;
};