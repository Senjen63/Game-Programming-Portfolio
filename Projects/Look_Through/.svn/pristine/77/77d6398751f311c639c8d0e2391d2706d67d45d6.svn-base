#include "Obstacle.h"
#include <time.h>

void Obstacle::SetSpeed(float speed)
{
	mSpeed = speed;
	srand(time(NULL));
}


void Obstacle::SetMaxDistance(int maxDist)
{
	mMinDistance = maxDist;
}


void Obstacle::SetInstanceVars(Vector2D startPosition, int maxRandom, int minRandom)
{
	mStartPos = startPosition;
	mMaxRand = maxRandom; 
	mMinRand = minRandom;
}


void Obstacle::Update(float t)
{
	mPosition.setX(mPosition.getX() - mSpeed * t);
	if (mPosition.getX() <= mMinDistance) 
	{
		mPosition = mStartPos;
		int randomizedPos = rand() % (mMaxRand)+(mMinRand);
		mPosition.setY(mPosition.getY() + randomizedPos);
		mCollTriggered = false;
	}
	Unit::Update(t);
}


