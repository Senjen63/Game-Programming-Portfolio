#pragma once

#include <allegro5/allegro.h>
#include <allegro5/allegro_font.h>
#include <allegro5/allegro_ttf.h>
#include <allegro5/allegro_audio.h>
#include <allegro5/allegro_acodec.h>
#include <allegro5/allegro_image.h>
#include <allegro5/allegro_primitives.h>

#include <Trackable.h>
#include <Vector2D.h>

#include <iostream>
#include <cassert>
#include <string>

#include "Sprite.h"

using namespace std;

class Animation : public Trackable
{
public:
	Animation();
	Animation(GraphicsBuffer* buffer, float mTime, bool mLoop, int spriteNum);
	Animation(Animation* anim);
	~Animation();

	void Update(double dt);
	Sprite* getCurrentSprite();
	void addSprites(GraphicsBuffer* buffer);
	void setTimePerFrame(float timeMod);
	void cleanUp();

private:
	Sprite* mSpriteList;
	double mTimePerFrame;
	double mTimeLeft;
	int mCurrentSprite;
	bool mShouldLoop;
	int mSpriteNum;
};