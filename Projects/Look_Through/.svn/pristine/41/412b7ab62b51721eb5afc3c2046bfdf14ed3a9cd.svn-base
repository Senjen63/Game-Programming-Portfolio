#pragma once

#include <PerformanceTracker.h>
#include <unordered_map>
#include "Color.h"

using namespace std;

typedef string BufferName;

class GraphicsBuffer;

class GraphicsBufferManager : public Trackable
{
private:
	unordered_map<BufferName, GraphicsBuffer*> mMap;

public:
	GraphicsBufferManager();
	~GraphicsBufferManager();

	void cleanup();

	GraphicsBuffer* createAndManageBuffer(const BufferName& key, string fileName);
	GraphicsBuffer* createAndManageBuffer(const BufferName& key, Color color);
	void deleteBuffer(const BufferName& key);
	void deleteBuffer(GraphicsBuffer* pWidget);

	GraphicsBuffer* getBuffer(const BufferName& key);
	
};